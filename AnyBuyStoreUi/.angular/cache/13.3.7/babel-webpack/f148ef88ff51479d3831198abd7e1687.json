{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\R9\\\\Desktop\\\\AnyBuyStoreAngularUi\\\\AnyBuyStoreUi\\\\AnyBuyStoreUi\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { UserModel } from '../shared/models/user-model';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet ProfileDetailsComponent = class ProfileDetailsComponent {\n  constructor(userService, router, authService, formBuilder) {\n    this.userService = userService;\n    this.router = router;\n    this.authService = authService;\n    this.formBuilder = formBuilder;\n    this.UserDetials = new UserModel();\n    this.userForm = new FormGroup({\n      id: new FormControl(''),\n      userName: new FormControl(''),\n      gender: new FormControl(''),\n      age: new FormControl(''),\n      email: new FormControl(''),\n      phoneNumber: new FormControl('')\n    });\n    this.submitted = false;\n\n    this.updateUser = updateFormValue => {\n      this.submitted = true;\n\n      if (this.userForm.invalid) {\n        return;\n      }\n\n      const formValues = Object.assign({}, updateFormValue);\n      var user = new InModel();\n      user.In.id = Number(localStorage.getItem('userId'));\n      user.In.userName = formValues.userName;\n      user.In.email = formValues.email;\n      user.In.phoneNumber = formValues.phoneNumber;\n      if (formValues.age != '') user.In.age = formValues.age;\n      if (formValues.gender != '' && formValues.gender != null) user.In.gender = formValues.gender;\n      this.userService.update(user).subscribe({\n        next: _ => {\n          document.getElementById(\"success-alert\").style.display = \"block\";\n          document.getElementById(\"danger-alert\").style.display = \"none\";\n          document.getElementById(\"success-alert\").innerHTML = \"profile updated successfully\";\n          alert(\"profile updated successfully\");\n          this.router.navigate([\"/login\"]);\n        },\n        error: err => {\n          document.getElementById(\"danger-alert\").style.display = \"block\";\n          document.getElementById(\"danger-alert\").innerHTML = \" unsuccessfull, please check the details\";\n        }\n      });\n    };\n  }\n\n  getuserDetails(id) {\n    var _this = this;\n\n    this.userService.getById(id).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (result) {\n        _this.UserDetials = result;\n        yield _this.setValuesInForm(result);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  get f() {\n    return this.userForm.controls;\n  }\n\n  onReset() {\n    this.submitted = false;\n    this.userForm.reset();\n  }\n\n  setValuesInForm(res) {\n    this.userForm.controls[\"id\"].setValue(res.id);\n    this.userForm.controls['id'].disable();\n    this.userForm.controls[\"userName\"].setValue(res.userName);\n    this.userForm.controls[\"age\"].setValue(res.age);\n    this.userForm.controls[\"gender\"].setValue(res.gender);\n    this.userForm.controls[\"email\"].setValue(res.email);\n    this.userForm.controls[\"phoneNumber\"].setValue(res.phoneNumber);\n  }\n\n  ngOnInit() {\n    var userId = Number(localStorage.getItem('userId'));\n    this.getuserDetails(userId);\n    this.userForm = this.formBuilder.group({\n      id: [''],\n      userName: ['', [Validators.required]],\n      age: [''],\n      gender: [''],\n      phoneNumber: ['', [Validators.required, Validators.pattern(\"[0-9 ]{10}\")]],\n      email: ['', [Validators.required, Validators.email]]\n    });\n  }\n\n};\nProfileDetailsComponent = __decorate([Component({\n  selector: 'app-profile-details',\n  templateUrl: './profile-details.component.html',\n  styleUrls: ['./profile-details.component.css']\n})], ProfileDetailsComponent);\nexport { ProfileDetailsComponent };\n\nclass InModel {\n  constructor() {\n    this.In = new UserModel();\n  }\n\n}","map":{"version":3,"sources":["C:/Users/R9/Desktop/AnyBuyStoreAngularUi/AnyBuyStoreUi/AnyBuyStoreUi/src/app/profile-details/profile-details.component.ts"],"names":["__decorate","Component","UserModel","FormControl","FormGroup","Validators","ProfileDetailsComponent","constructor","userService","router","authService","formBuilder","UserDetials","userForm","id","userName","gender","age","email","phoneNumber","submitted","updateUser","updateFormValue","invalid","formValues","Object","assign","user","InModel","In","Number","localStorage","getItem","update","subscribe","next","_","document","getElementById","style","display","innerHTML","alert","navigate","error","err","getuserDetails","getById","result","setValuesInForm","f","controls","onReset","reset","res","setValue","disable","ngOnInit","userId","group","required","pattern","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { UserModel } from '../shared/models/user-model';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nlet ProfileDetailsComponent = class ProfileDetailsComponent {\r\n    constructor(userService, router, authService, formBuilder) {\r\n        this.userService = userService;\r\n        this.router = router;\r\n        this.authService = authService;\r\n        this.formBuilder = formBuilder;\r\n        this.UserDetials = new UserModel;\r\n        this.userForm = new FormGroup({\r\n            id: new FormControl(''),\r\n            userName: new FormControl(''),\r\n            gender: new FormControl(''),\r\n            age: new FormControl(''),\r\n            email: new FormControl(''),\r\n            phoneNumber: new FormControl('')\r\n        });\r\n        this.submitted = false;\r\n        this.updateUser = (updateFormValue) => {\r\n            this.submitted = true;\r\n            if (this.userForm.invalid) {\r\n                return;\r\n            }\r\n            const formValues = Object.assign({}, updateFormValue);\r\n            var user = new InModel();\r\n            user.In.id = Number(localStorage.getItem('userId'));\r\n            user.In.userName = formValues.userName;\r\n            user.In.email = formValues.email;\r\n            user.In.phoneNumber = formValues.phoneNumber;\r\n            if (formValues.age != '')\r\n                user.In.age = formValues.age;\r\n            if (formValues.gender != '' && formValues.gender != null)\r\n                user.In.gender = formValues.gender;\r\n            this.userService.update(user)\r\n                .subscribe({\r\n                next: (_) => {\r\n                    document.getElementById(\"success-alert\").style.display = \"block\";\r\n                    document.getElementById(\"danger-alert\").style.display = \"none\";\r\n                    document.getElementById(\"success-alert\").innerHTML = \"profile updated successfully\";\r\n                    alert(\"profile updated successfully\");\r\n                    this.router.navigate([\"/login\"]);\r\n                },\r\n                error: (err) => {\r\n                    document.getElementById(\"danger-alert\").style.display = \"block\";\r\n                    document.getElementById(\"danger-alert\").innerHTML = \" unsuccessfull, please check the details\";\r\n                }\r\n            });\r\n        };\r\n    }\r\n    getuserDetails(id) {\r\n        this.userService.getById(id).subscribe(async (result) => {\r\n            this.UserDetials = result;\r\n            await this.setValuesInForm(result);\r\n        });\r\n    }\r\n    get f() {\r\n        return this.userForm.controls;\r\n    }\r\n    onReset() {\r\n        this.submitted = false;\r\n        this.userForm.reset();\r\n    }\r\n    setValuesInForm(res) {\r\n        this.userForm.controls[\"id\"].setValue(res.id);\r\n        this.userForm.controls['id'].disable();\r\n        this.userForm.controls[\"userName\"].setValue(res.userName);\r\n        this.userForm.controls[\"age\"].setValue(res.age);\r\n        this.userForm.controls[\"gender\"].setValue(res.gender);\r\n        this.userForm.controls[\"email\"].setValue(res.email);\r\n        this.userForm.controls[\"phoneNumber\"].setValue(res.phoneNumber);\r\n    }\r\n    ngOnInit() {\r\n        var userId = Number(localStorage.getItem('userId'));\r\n        this.getuserDetails(userId);\r\n        this.userForm = this.formBuilder.group({\r\n            id: [''],\r\n            userName: ['', [Validators.required]],\r\n            age: [''],\r\n            gender: [''],\r\n            phoneNumber: [\r\n                '',\r\n                [\r\n                    Validators.required,\r\n                    Validators.pattern(\"[0-9 ]{10}\")\r\n                ]\r\n            ],\r\n            email: ['', [Validators.required, Validators.email]],\r\n        });\r\n    }\r\n};\r\nProfileDetailsComponent = __decorate([\r\n    Component({\r\n        selector: 'app-profile-details',\r\n        templateUrl: './profile-details.component.html',\r\n        styleUrls: ['./profile-details.component.css']\r\n    })\r\n], ProfileDetailsComponent);\r\nexport { ProfileDetailsComponent };\r\nclass InModel {\r\n    constructor() {\r\n        this.In = new UserModel();\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}