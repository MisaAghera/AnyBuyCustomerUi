{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\R9\\\\Desktop\\\\AnyBuyStoreAngularUi\\\\AnyBuyStoreUi\\\\AnyBuyStoreUi\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ProductModel } from '../shared/models/product-model.model';\nimport { CartModel } from '../shared/models/cart-model.model';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet ProductsingleComponent = class ProductsingleComponent {\n  constructor(route, ProductService, CartService, authService, DiscountsService, router) {\n    this.route = route;\n    this.ProductService = ProductService;\n    this.CartService = CartService;\n    this.authService = authService;\n    this.DiscountsService = DiscountsService;\n    this.router = router;\n    this.ProductDetails = new ProductModel();\n    this.isUserAuthenticated = false;\n    this.submitted = false;\n    this.cartForm = new FormGroup({\n      quantity: new FormControl('')\n    });\n  }\n\n  getById(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.ProductService.getById(id).subscribe(result => {\n        _this.ProductDetails = result;\n      });\n    })();\n  }\n\n  getDiscounts() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.DiscountsService.getAll().subscribe(result => {\n        _this2.DiscountList = result;\n      });\n    })();\n  }\n\n  onAddToCart(formValues) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.submitted = true;\n\n      if (_this3.cartForm.invalid) {\n        return;\n      }\n\n      const formValue = Object.assign({}, formValues);\n      var productDetail = new InModel();\n      productDetail.In.quantity = formValue.quantity;\n      productDetail.In.productId = _this3.ProductDetails.id;\n      productDetail.In.userId = Number(localStorage.getItem('userId'));\n      productDetail.In.isAvailable = true;\n\n      _this3.CartService.add(productDetail).subscribe({\n        next: _ => {\n          document.getElementById(\"success-alert\").style.display = \"block\";\n          document.getElementById(\"danger-alert\").style.display = \"none\";\n          document.getElementById(\"success-alert\").innerHTML = \"added successfully\";\n\n          _this3.router.navigate(['/order']);\n        },\n        error: err => {\n          document.getElementById(\"danger-alert\").style.display = \"block\";\n          document.getElementById(\"danger-alert\").innerHTML = \"something went wrong\";\n        }\n      });\n    })();\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      var id = Number(params.get('id'));\n      this.getById(id);\n    });\n  }\n\n};\nProductsingleComponent = __decorate([Component({\n  selector: 'app-productsingle',\n  templateUrl: './productsingle.component.html',\n  styleUrls: ['./productsingle.component.css']\n})], ProductsingleComponent);\nexport { ProductsingleComponent };\n\nclass InModel {\n  constructor() {\n    this.In = new CartModel();\n  }\n\n}","map":{"version":3,"sources":["C:/Users/R9/Desktop/AnyBuyStoreAngularUi/AnyBuyStoreUi/AnyBuyStoreUi/src/app/productsingle/productsingle.component.ts"],"names":["__decorate","Component","ProductModel","CartModel","FormControl","FormGroup","ProductsingleComponent","constructor","route","ProductService","CartService","authService","DiscountsService","router","ProductDetails","isUserAuthenticated","submitted","cartForm","quantity","getById","id","subscribe","result","getDiscounts","getAll","DiscountList","onAddToCart","formValues","invalid","formValue","Object","assign","productDetail","InModel","In","productId","userId","Number","localStorage","getItem","isAvailable","add","next","_","document","getElementById","style","display","innerHTML","navigate","error","err","ngOnInit","paramMap","params","get","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { ProductModel } from '../shared/models/product-model.model';\r\nimport { CartModel } from '../shared/models/cart-model.model';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nlet ProductsingleComponent = class ProductsingleComponent {\r\n    constructor(route, ProductService, CartService, authService, DiscountsService, router) {\r\n        this.route = route;\r\n        this.ProductService = ProductService;\r\n        this.CartService = CartService;\r\n        this.authService = authService;\r\n        this.DiscountsService = DiscountsService;\r\n        this.router = router;\r\n        this.ProductDetails = new ProductModel();\r\n        this.isUserAuthenticated = false;\r\n        this.submitted = false;\r\n        this.cartForm = new FormGroup({\r\n            quantity: new FormControl(''),\r\n        });\r\n    }\r\n    async getById(id) {\r\n        await this.ProductService.getById(id).subscribe(result => {\r\n            this.ProductDetails = result;\r\n        });\r\n    }\r\n    async getDiscounts() {\r\n        await this.DiscountsService.getAll().subscribe(result => {\r\n            this.DiscountList = result;\r\n        });\r\n    }\r\n    async onAddToCart(formValues) {\r\n        this.submitted = true;\r\n        if (this.cartForm.invalid) {\r\n            return;\r\n        }\r\n        const formValue = Object.assign({}, formValues);\r\n        var productDetail = new InModel();\r\n        productDetail.In.quantity = formValue.quantity;\r\n        productDetail.In.productId = this.ProductDetails.id;\r\n        productDetail.In.userId = Number(localStorage.getItem('userId'));\r\n        productDetail.In.isAvailable = true;\r\n        this.CartService.add(productDetail).subscribe({\r\n            next: (_) => {\r\n                document.getElementById(\"success-alert\").style.display = \"block\";\r\n                document.getElementById(\"danger-alert\").style.display = \"none\";\r\n                document.getElementById(\"success-alert\").innerHTML = \"added successfully\";\r\n                this.router.navigate(['/order']);\r\n            },\r\n            error: (err) => {\r\n                document.getElementById(\"danger-alert\").style.display = \"block\";\r\n                document.getElementById(\"danger-alert\").innerHTML = \"something went wrong\";\r\n            }\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.route.paramMap.subscribe(params => {\r\n            var id = Number(params.get('id'));\r\n            this.getById(id);\r\n        });\r\n    }\r\n};\r\nProductsingleComponent = __decorate([\r\n    Component({\r\n        selector: 'app-productsingle',\r\n        templateUrl: './productsingle.component.html',\r\n        styleUrls: ['./productsingle.component.css']\r\n    })\r\n], ProductsingleComponent);\r\nexport { ProductsingleComponent };\r\nclass InModel {\r\n    constructor() {\r\n        this.In = new CartModel();\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}